(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/quickLogin/quickLogin"],{1195:function(e,t,o){"use strict";o.r(t);var n=o("aa52"),a=o("983c");for(var s in a)"default"!==s&&function(e){o.d(t,e,(function(){return a[e]}))}(s);o("9a4d");var i,r=o("f0c5"),c=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);t["default"]=c.exports},"2ef8":function(e,t,o){"use strict";(function(e){o("3dbe");n(o("66fd"));var t=n(o("1195"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},"983c":function(e,t,o){"use strict";o.r(t);var n=o("bbe1"),a=o.n(n);for(var s in n)"default"!==s&&function(e){o.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},"9a4d":function(e,t,o){"use strict";var n=o("e354"),a=o.n(n);a.a},aa52:function(e,t,o){"use strict";var n,a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.rememberPsw=!e.rememberPsw})},s=[];o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return n}))},bbe1:function(e,t,o){"use strict";(function(e){function o(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{checkbox:[{value:"password",checked:!0}],phone:"",password:"",rememberPsw:!1,Areaaddress:""}},mounted:function(){this.getAuthorizeInfo(),this.getLocationInfo();var t=e.getStorageSync("phone"),o=e.getStorageSync("password");t&&o?(this.phone=t,this.password=o):(this.phone="",this.password="")},methods:{getPhoneNumber:function(t){e.getStorageSync("session_key"),t.detail.encryptedData,t.detail.iv},getlocation:function(t){var n;e.getLocation((n={type:"gcj02",geocode:!0},o(n,"geocode",!0),o(n,"success",(function(t){console.log("当前位置的经度："+t.longitude),console.log("当前位置的纬度："+t.latitude),e.openLocation({latitude:t.latitude,longitude:t.longitude,success:function(e){console.log(e)}})})),n))},getAuthorizeInfo:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"scope.userLocation",o=this;e.authorize({scope:t,success:function(){o.getLocationInfo()},fail:function(){console.log("你拒绝了授权，无法获得周边信息")}})},getLocationInfo:function(){var t=this;e.getLocation({type:"wgs84",success:function(o){var n,a;n=o.latitude.toString(),a=o.longitude.toString(),e.request({header:{"Content-Type":"application/text"},url:"http://apis.map.qq.com/ws/geocoder/v1/?location="+n+","+a+"&key=MVGBZ-R2U3U-W5CVY-2PQID-AT4VZ-PDF35",success:function(o){if(200===o.statusCode){t.Areaaddress=o.data.result.address;var n=o.data.result.address_component,a=n.province,s=n.city,i=n.district;e.setStorageSync("wxprovince",a),e.setStorageSync("wxcity",s),e.setStorageSync("wxdistrict",i),console.log("获取中文街道地理位置成功")}else console.log("获取信息失败，请重试！")}})}})},loginagian:function(){var t=this;e.login({provider:"weixin",success:function(o){var n="wx36d9ce19c2d35733",a="5735f1cb503492f004a7b3de38e78795",s="https://api.weixin.qq.com/sns/jscode2session?appid="+n+"&secret="+a+"&js_code="+o.code+"&grant_type=authorization_code";e.request({url:s,method:"GET",success:function(o){var n=o.data.session_key;e.setStorageSync("session_key",n);var a=o.data.openid;e.setStorageSync("openid",a);var s={openId:a};t.$common.requests("judgeUserOpenId",s).then((function(t){e.showToast({title:t.data.code}),0==t.data.code&&setTimeout((function(){e.navigateTo({url:"../forgetPassword/login"})}),1e3),1==t.data.code&&(e.setStorageSync("uid",t.data.result.userInfo.id),e.setStorageSync("token",t.data.result.token),e.setStorageSync("userinfo",t.data.result.userInfo),setTimeout((function(){e.switchTab({url:"../index/index"})}),1e3))}))},fail:function(e){}})}})},getUser:function(t){console.log(t);var o=t.detail.userInfo.nickName,n=t.detail.userInfo.avatarUrl,a=t.detail.userInfo.gender;e.setStorageSync("wxavatarUrl",n),e.setStorageSync("wxnickName",o),e.setStorageSync("wxsex",a)},CheckboxChange:function(e){for(var t=this.checkbox,o=e.detail.value,n=0,a=t.length;n<a;++n){t[n].checked=!1;for(var s=0,i=o.length;s<i;++s)if(t[n].value==o[s]){t[n].checked=!0;break}}},goIndex:function(){var t=this;if(""!=this.phone)if(""!=this.password){var o={password:this.password,phone:this.phone};this.$common.requests("mLogin",o).then((function(o){200==o.data.code&&(t.$api.msg(o.data.msg),e.setStorageSync("uid",o.data.result.userInfo.id),e.setStorageSync("token",o.data.result.token),e.setStorageSync("userinfo",o.data.result.userInfo),t.rememberPsw?(e.setStorageSync("phone",t.phone),e.setStorageSync("password",t.password)):(e.removeStorageSync("phone"),e.removeStorageSync("password"),t.phone="",t.password=""),setTimeout((function(){e.switchTab({url:"../index/index"})}),1e3)),500==o.data.code&&e.showToast({title:o.data.message,icon:"none"})}))}else this.$api.msg("请输入密码");else this.$api.msg("请输入手机号")},go:function(){e.navigateTo({url:"../forgetPassword/forgetPassword"})},goTo:function(){e.navigateTo({url:"../forgetPassword/login"})}}};t.default=n}).call(this,o("543d")["default"])},e354:function(e,t,o){}},[["2ef8","common/runtime","common/vendor"]]]);